
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://pc.udesa.edu.ar/projects/song-recommendation/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.1, mkdocs-material-8.5.7">
    
    
      
        <title>Recomendador - udesa-pc</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.20d9efc8.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#recomendador-de-musica" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="udesa-pc" class="md-header__button md-logo" aria-label="udesa-pc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            udesa-pc
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Recomendador
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="udesa-pc" class="md-nav__button md-logo" aria-label="udesa-pc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    udesa-pc
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Instalaci√≥n
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Instalaci√≥n" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Instalaci√≥n
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/mac-install/" class="md-nav__link">
        Mac
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/windows-install/" class="md-nav__link">
        Windows
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Setup
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Setup" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Setup
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/vs-code/" class="md-nav__link">
        Editor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/new_project/" class="md-nav__link">
        Nuevo Proyecto
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Recursion
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Recursion" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Recursion
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../recursion/intro/" class="md-nav__link">
        Introducci√≥n
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          OOP
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="OOP" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          OOP
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../oop/intro/" class="md-nav__link">
        Introducci√≥n
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../oop/disect_objects/" class="md-nav__link">
        Ejemplo de un objeto
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Proyectos
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Proyectos" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Proyectos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Recomendador
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Recomendador
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#contexto" class="md-nav__link">
    Contexto
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#objetivo" class="md-nav__link">
    Objetivo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#como-vamos-a-recomendar-canciones" class="md-nav__link">
    Como vamos a recomendar canciones ....
  </a>
  
    <nav class="md-nav" aria-label="Como vamos a recomendar canciones ....">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#el-modelo-knn" class="md-nav__link">
    El modelo: KNN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-donde-sacamos-las-canciones" class="md-nav__link">
    De donde sacamos las canciones:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#como-voy-a-utilizar-esto-para-recomendar" class="md-nav__link">
    Como voy a utilizar esto para recomendar:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estrategia" class="md-nav__link">
    Estrategia:
  </a>
  
    <nav class="md-nav" aria-label="Estrategia:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#separation-of-concerns" class="md-nav__link">
    Separation of concerns:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mvp-y-kiss" class="md-nav__link">
    MVP y KISS:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iteraciones-rapidas" class="md-nav__link">
    Iteraciones r√°pidas:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#desarrollo" class="md-nav__link">
    Desarrollo:
  </a>
  
    <nav class="md-nav" aria-label="Desarrollo:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iteracion-1" class="md-nav__link">
    Iteraci√≥n 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#como-testear-que-un-modelo-funciona" class="md-nav__link">
    Como testear que un modelo funciona:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iteracion-2" class="md-nav__link">
    Iteraci√≥n 2:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iteracion-3" class="md-nav__link">
    Iteraci√≥n 3:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iteracion-4" class="md-nav__link">
    Iteraci√≥n 4:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#contexto" class="md-nav__link">
    Contexto
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#objetivo" class="md-nav__link">
    Objetivo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#como-vamos-a-recomendar-canciones" class="md-nav__link">
    Como vamos a recomendar canciones ....
  </a>
  
    <nav class="md-nav" aria-label="Como vamos a recomendar canciones ....">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#el-modelo-knn" class="md-nav__link">
    El modelo: KNN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#de-donde-sacamos-las-canciones" class="md-nav__link">
    De donde sacamos las canciones:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#como-voy-a-utilizar-esto-para-recomendar" class="md-nav__link">
    Como voy a utilizar esto para recomendar:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estrategia" class="md-nav__link">
    Estrategia:
  </a>
  
    <nav class="md-nav" aria-label="Estrategia:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#separation-of-concerns" class="md-nav__link">
    Separation of concerns:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mvp-y-kiss" class="md-nav__link">
    MVP y KISS:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iteraciones-rapidas" class="md-nav__link">
    Iteraciones r√°pidas:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#desarrollo" class="md-nav__link">
    Desarrollo:
  </a>
  
    <nav class="md-nav" aria-label="Desarrollo:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iteracion-1" class="md-nav__link">
    Iteraci√≥n 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#como-testear-que-un-modelo-funciona" class="md-nav__link">
    Como testear que un modelo funciona:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iteracion-2" class="md-nav__link">
    Iteraci√≥n 2:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iteracion-3" class="md-nav__link">
    Iteraci√≥n 3:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iteracion-4" class="md-nav__link">
    Iteraci√≥n 4:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="recomendador-de-musica">Recomendador de m√∫sica:</h1>
<h3 id="contexto">Contexto</h3>
<p>La m√∫sica es una expresi√≥n arm√≥nica de sonidos que nos generan sensaciones .... b√°sicamente nos gusta esuchar m√∫sica.
En la antig√ºedad (principios de los 2000, omita hacer comentarios al profesor para que el mismo no tenga un mental break down),
la gente sol√≠a recomendar canciones por el <em>boca a boca</em>, teniendo que comprar el formato f√≠sico para poder escuchar dicha 
m√∫sica.</p>
<div class="highlight"><pre><span></span><code>Si te gust√≥ este alb√∫m, compr√° &quot;X&quot; que seguro te gusta
</code></pre></div>
<p>Hoy en d√≠a la frase que nos indica la plataforma de streaming que deseen utilizar es un poco diferente:</p>
<div class="highlight"><pre><span></span><code>Porque te gustaron &quot;A&quot;, &quot;B&quot; y &quot;C&quot;, te recomendamos &quot;Z&quot;
</code></pre></div>
<p>Esto se debe a que con la tecnolog√≠a, los sistemas de recomendaci√≥n crecieron en utilidad masivamente. Siendo hoy 
en d√≠a una de las principales features de ciertos productos y los drivers de gran cantidad de ganancias.
Piensen en:</p>
<ul>
<li><strong>Mercado libre</strong> =&gt; <em>Productos que te puedan gustar</em>, es uno de los mayores hooks de la plataforma.</li>
<li><strong>Spotify</strong> =&gt; <em>Only for you</em>, las recomendaciones weekly son su principal forma de exponer usuarios a nuevos gustos.</li>
<li><strong>Netflix</strong> =&gt; En 2017 el 70% de su revenue provino de las recomendaciones que generaron a sus usuarios.</li>
</ul>
<p>Entonces, porque no intentamos hacer nuestras propias recomendaciones? ....</p>
<h2 id="objetivo">Objetivo</h2>
<p>El objetivo de este proyecto es comenzar a entender como podemos dar recomendaciones utilizando datos y software para
el proceso. 
Utilizaremos un modelo de inteligencia artificial <img alt="ü§ì" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f913.svg" title=":nerd_face:" /> para predecir canciones que puedan ser de inter√©s para el usuario;
el mismo deber√° indicar algunas canciones que hoy en d√≠a le gusten y determinaremos 5 canciones nuevas para escuchar.</p>
<p>Nuestro programa tendr√° una interfaz por consola <img alt="üíª" class="twemoji" src="https://twemoji.maxcdn.com/v/latest/svg/1f4bb.svg" title=":computer:" /> donde pediremos los datos inciales y luego daremos nuestra 
recomendaci√≥n.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Las recomendaciones que generaremos en este proyecto no ser√°n excelentes y hay mucho para mejorar, pero es una primera 
aproximaci√≥n al concepto de recomendaciones. </p>
</div>
<h2 id="como-vamos-a-recomendar-canciones">Como vamos a recomendar canciones ....</h2>
<h3 id="el-modelo-knn">El modelo: KNN</h3>
<p>Para las recomendaciones nos basaremos en un modelo tradicional de Machine Learning llamado KNN (K Nearest Neighbours). El modelo es muy simple, para entenderlo primero debemos revisar cual es el problema que resuelve:</p>
<p><strong>problema</strong></p>
<p>Si tenemos un conjunto de puntos que pertencen a distintas <em>clases</em> (entiendan clase como la asignaci√≥n de alg√∫n tipo de etiqueta)
y aparece un nuevo elemento el cual desconocemos su clase, pero queremos asignarle alguna de las que ya existen. Este es el 
problema que intenta resolver el algortimo de KNN.</p>
<p>El <strong>approach</strong> que toma dicho algoritmo es el siguiente:</p>
<ol>
<li>Dado el nuevo punto (piensen en los puntos como coordenadas en un mapa), tomo los K (por eso la "K" en el nombre) puntos 
m√°s cercanos (estos son los vecinos ... por eso el "NN" del nombre).</li>
<li>Luego cuento cuanta cantidad de esos "vecinos" pertenecen a cada clase.</li>
<li>Determino que la clase del nuevo punto es la clase que m√°s veces aparezca entre sus vecinos. </li>
</ol>
<p><img alt="Example KNN" src="../../imgs/knn_example.png" /></p>
<p>Notese que el m√©todo definido aqu√≠ es la implementaci√≥n m√°s b√°sica y hay muchas optimizaciones posibles.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>El <em>K</em> en el algoritmo es un par√°metro, significa que a la hora de correr el algoritmo debemos especificar que valor
queremos que tome <em>K</em>.</p>
<ul>
<li>Mientras m√°s grande <em>k</em> m√°s espec√≠fico tiende a ser el resultado.</li>
<li>Mientras menos <em>k</em> tomemeos, tiende a ser m√°s r√°pido.</li>
</ul>
</div>
<h3 id="de-donde-sacamos-las-canciones">De donde sacamos las canciones:</h3>
<p>El <em>dataset</em> que utilizaremos provine de la plataforma <strong>Kaggle</strong>, donde la empresa Spotify public√≥ una competencia para
ver quien era capaz de generar un modelo de recomendaciones mejor que el que ten√≠an. Esta es una practica conocida por
empresa y si les interesa busquen la historia de <em>Netflix: 1 Million prize</em>.
El dataset contiene al rededor de 100 mil canciones, de las cuales nos otrogan los siguientes datos:</p>
<ul>
<li>
<p><em>duration_ms</em>:  duraci√≥n de la canci√≥n en milisegundos.</p>
</li>
<li>
<p><em>key</em>: The estimated overall key of the track. Integers map to pitches using standard Pitch Class notation . E.g. 0 = C, 1 = C‚ôØ/
    D‚ô≠, 2 = D, and so on. If no key was detected, the value is -1.</p>
</li>
<li>
<p><em>mode</em>:  indica la modalidad (major o minor) de la canci√≥n. Es la escala mel√≥dica en la que se deriva la canci√≥n. y esta representado por 1 (major) y 0 (minor).</p>
</li>
<li>
<p><em>time_signature</em>: Es la firma temporal de la canci√≥n. Es una notaci√≥n formdada por una conveci√≥n para aclarar cuantos beats 
    se muestran por cada medici√≥n de la canci√≥n.</p>
</li>
<li>
<p><em>acousticness</em>: una medida de confianza entre 0.0 y 1.0 de si la canci√≥n es acustica o no.</p>
</li>
<li>
<p><em>danceability</em>: Es una medida entre 0.0 y 1.0 que describe que tan buena es al canci√≥n para bailar en base a varios factores, 
    como el ritmo, los decibeles, la regularidad, etc.</p>
</li>
<li>
<p><em>energy</em>: Es una medida de 0.0 a 1.0 que representa que tan r√°pida, ruidosa y fuerte es la canci√≥n. Death metal tiene un valor 
    alto mientras que Blues usualemnte un valor bajo.</p>
</li>
<li>
<p><em>instrumentalness</em>: Valor entre 0.0 y 1.0 que determina la confianza de que la canci√≥n sea instrumental pura o tenga partes de
    canto.</p>
</li>
<li>
<p><em>liveness</em>: Valor entre 0.0 y 1.0 para detectar la precencia de audiencia en la canci√≥n. Valores superiores a 0.8 son considerados
    <em>live performance</em>.</p>
</li>
<li>
<p><em>loudness</em>: El valor promedio de decibeles de la canci√≥n. (entre -60 y 0)</p>
</li>
<li>
<p><em>speechiness</em>: valor de confianza entre 0.0 y 1.0 de que el audio de la canci√≥n sea puramente voz.</p>
</li>
<li>
<p><em>valence</em>: valor entre 0.0 y 1.0 que describe la positividad de la canci√≥n (canciones felices, alegres, etc).</p>
</li>
<li>
<p><em>tempo</em>: El tempo promedio de la canci√≥n descrito en BPM (beats per minute). Vea el siguiente <a href="https://www.youtube.com/watch?v=bP_llT3Fl4o">link</a> para entender</p>
</li>
<li>
<p><em>id</em>: Spotify ID.</p>
</li>
<li>
<p><em>popularity</em>: La popularidad se mide de 0 a 100, canciones que fueron recientemente muy escuchadas tienden a tener un valor 
    m√°s alto.</p>
</li>
</ul>
<h3 id="como-voy-a-utilizar-esto-para-recomendar">Como voy a utilizar esto para recomendar:</h3>
<p>A este punto entendemos el funcionamiento b√°sico de KNN pero surge la pregunta .... como esta asignaci√≥n de "clases"
se relaciona con mi objetivo de recomendar canciones a alguien.</p>
<p><img alt="Paciencia Padawan" src="../../imgs/young_padawan.gif" /></p>
<p>Por ahora entendemos que KNN necesita "puntos" que tengan alg√∫n tipo de etiqueta y que lo √∫nico que hace es 
<em>etiquetar</em> un nuevo punto en base a los anteriores. Pero el algoritmo funciona sobre coordenadas en un plano,
vectores matem√°ticos y nosotros tenemos canciones que lejos estan de ser vectores... o tal vez no.</p>
<p>Ahora, si me acompa√±anan en el siguiente viaje astral por una analog√≠a ....
Que pasa si tomamos una canci√≥n y la transformamos en una serie de caracter√≠sticas como por ejemplo:</p>
<ul>
<li>el tempo</li>
<li>el a√±o </li>
<li>el g√©nero</li>
<li>el pitch</li>
<li>el nombre de la banda que la interpreta</li>
<li><em>sucesivas caracter√≠sticas...</em></li>
</ul>
<p>De esta forma podr√≠amos representar una canci√≥n como un <em>vector</em>, donde cada columna representa el valor de cada una 
de estas caracter√≠sticas. Donde asumimos que cada columna representa una <em>dimensi√≥n</em> distinta, una dimensi√≥n en la logitud 
de la canci√≥n, otra dimensi√≥n es la banda, otra es el g√©nero, otra es el a√±o.</p>
<p>Entonces podemos pensar que la comparaci√≥n entre dos canciones pasar√≠a de ser:</p>
<div class="highlight"><pre><span></span><code>Canci√≥n &quot;A&quot;, escrita por banda X en el a√±o 1990, del g√©nero tanto 
puede llegar a parecerse a esta otra canci√≥n &quot;B&quot; de la banda Z en el a√±o 2010 de g√©nero tanto.
</code></pre></div>
<p>ahora ser√≠a algo como:</p>
<div class="highlight"><pre><span></span><code>[1, 1990, 13, 3.12]
[45, 2010, 5 , 2.6]
</code></pre></div>
<p>donde el primer valor representa el pitch, el segundo el a√±o de lanzamiento, el tercero el tempo y el ultimo la duraci√≥n en 
minutos. Veamos como ahora pasamos de tener un problema cotidiano en una definici√≥n matem√°tica.</p>
<p>Ahora, si hacemos esto para todas las canciones que queramos, pasar√≠amos a tener  .... un mont√≥n de puntos en un mapa.
Dado que aprendimos en Algebra [<strong> Fear of Juan intesifies </strong>] que podemos tomar la distancia entre 2 vectores.
La forma m√°s tradicional ser√≠a utilizando la distancia euclidea.</p>
<p>Enotnces, si frenamos un segundo en nuestro viaje astral nos podemos dar cuenta que pasamos de tener un mont√≥n de 
canciones a un mont√≥n de puntos en un plano matem√°tico a los cuales puedo tomarle disntacias para encontrar los "vecinos".
Es decir, que ya estamos muy cerca de poder lograr aplicar KNN, pero ahora nos falta dar una "etiqueta" a cada canci√≥n.
Aunque seguimos con el problema de que no tenemos etiquetas para utilizar ...</p>
<p><img alt="hold my beer" src="../../imgs/hold_my_bear.jpeg" /></p>
<p>Que pasa si usamos como etiqueta de cada canci√≥n:</p>
<ul>
<li>"le gusta al usuario"</li>
<li>"no le gusta al usuario" ....</li>
</ul>
<p><img alt="mind blow" src="../../imgs/blow-mind-mind-blown.gif" /></p>
<p>Ahora ... como sabemos que canciones le gusta al usuario y cuales no?
bueno, este es el arte (lease m√°gia oscura) que hacen las empresas para solucionar el denominado problema:
<em>cold start</em>.</p>
<p>En nuestro caso, simplemente le vamos a pedir al usuario que nos indique N cantidad de canciones que le gustaron
o no. Otra forma es pedir al usuario que nos indique canciones que le gustan y tomar un random de canciones que 
vamos a considerar como que no le gustan, esta t√©cnica es √∫til cuando tu dataset es tan grande que la probabilidad 
de que tomes un punto que pertenezca al conjunto de "no inter√©s" es alta.</p>
<p><strong>Para resumir nuestro viaje astral:</strong></p>
<p>Vamos a tomar canciones y seg√∫n caracter√≠sticas num√©ricas que tengan como son, el a√±o de lanzamiento, la duraci√≥n
de la canci√≥n, el pitch, entre otras obtendremos un vector num√©rico que represente a cada canci√≥n. Luego, con ayuda
del usuario tomaremos un par de canciones (vectores) y les pondremos la etiqueta de "le gustan al usuario". Acto seguido,
tomaremos una muestra al azar de canciones no seleccionadas y diremos que estas "no le gustan la usuario". Esto es una heur√≠stica
simple que tomamos, podr√≠amos tomar otras alternativas para conseguir etiquetas ciertas canciones como "no le gustan".</p>
<p>Finalmente, utilizaremos KNN para "predecir" la etitqueta (le gusta o no le gusta) de las canciones que no est√°n etiquetadas.</p>
<h2 id="estrategia">Estrategia:</h2>
<p>Ahora que tenemos una idea de hacia donde vamos y que herramientas vamos a utilizar, debemos plantearnos
<em>como vamos a encarar este desarrollo</em>.</p>
<h3 id="separation-of-concerns">Separation of concerns:</h3>
<p>Lo primero que hacemos es entender la separaci√≥n de "dominios" que tiene la app. En este caso, entendemos
que nuestro desarrollo tiene las siguientes <em>capas</em></p>
<div class="admonition notice">
<p class="admonition-title">Notice</p>
<p>Un <strong>Capas</strong> se refiere a el <em>set</em> de herramientas pertinentes a un area de nuestro problema el cual
puede quedar separado del resto de nuestro problema.
Por ejemplo: 
- el modelo predictor que utilicemos
- el conjunto de modulos o funciones que utilizaremos para interactuar con el usuario
- el conjunto de modulos o funciones que utilizaremos para obtener los datos</p>
</div>
<p>Una vez que tenemos estos conceptos claros, por el siguiente paso.</p>
<h3 id="mvp-y-kiss">MVP y KISS:</h3>
<p>Cuando hacemos un desarrollo pensamos en la m√≠nima implementaci√≥n de funcionalidades que logran nuestro
objetivos. En este caso la minima funcionalidad que queremos es:</p>
<ol>
<li>Dado un conjunto presetteado de canciones que tomaremos como (canciones que gustan al usuario)</li>
<li>Generar un conjunto de 3 canciones a recomendar.</li>
<li>Medir la <em>calidad</em> de nuestras recomendaciones.</li>
</ol>
<p>En la industria, <em>MVP</em> se refiere al producto minimo viable (MVP por sus siglas en ingles). Para nuestro caso, 
esto se traduce en las 3 funcionalidades mencionadas.</p>
<p>Para generar este desarrollo intentaremos mantener la implementaci√≥n lo m√°s sencilla posible y en base a un 
modelo funcional iremos modificando la soluci√≥n para hacerla mejor. Esto es el principio de KISS (Keep It 
Simpel ... Stupid).</p>
<p><img alt="MVP" src="../../imgs/mvp_representation.webp" /></p>
<h3 id="iteraciones-rapidas">Iteraciones r√°pidas:</h3>
<p>En el desarrollo de software hay que intentar acortar el loop de desarrollo, que comprende el ciclo desde 
crear una funcionalidad y obtener el feedback del usuario.</p>
<p>En este caso, nuestro desarrollo se basa en generar c√≥digo, testear que puedo levantar datos, que puedo tomar
informaci√≥n del usuario y que nuestro modelo efectivamente funciona y entrega buenos resultados.</p>
<h2 id="desarrollo">Desarrollo:</h2>
<p>El desarrollo de este sistema queda enteramente abierto a gusto del lector, en la siguiente secci√≥n simplemente
iremos viendo un posible esquema de trabajo el cual plantea obtener el mayor apredizaje del ejercicio.</p>
<h3 id="iteracion-1">Iteraci√≥n 1</h3>
<p>En la primera versi√≥n de nuestro sistema de recomendaci√≥n tendremos un programa que dado un input explicito
(hardcoded) que representa las canciones que le gustan al usuario. Devolveremos una recomendaci√≥n, dicha
recomendaci√≥n ser√° simplemente una selecci√≥n random de canciones. 
El esquema al finalizar esta etapa ser√°:</p>
<ol>
<li>Al correr el programa no debemos ingresar datos.</li>
<li>En pantalla nos aparecen las canciones preseleccionadas como que "le gustan al usuario"</li>
<li>Nos aparecen las 5 recomendaciones de canciones.</li>
<li>El programa imprime un <em>score</em> de que tan buena es la recomendaci√≥n. (vean la siguiente secci√≥n)</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>El modelo b√°sico que devuelve una selecci√≥n random es muy importante, dado que nos deja entender como
interactuar con el modelo de recomendaci√≥n dentro de nuestra soluci√≥n. Entiendan en que parte del programa
vamos a utilizar este algoritmo y su rol en el mismo.</p>
</div>
<h3 id="como-testear-que-un-modelo-funciona">Como testear que un modelo funciona:</h3>
<p>Uno de los problemas emergentes por la naturaleza de nuestro proyecto es ... saber como determinar si
realmente estamos dando una buena recomendaci√≥n.
Esto es un problema recurrente de Machine Learning y es algo que extensamente ver√°n en materias posteriores, 
por lo que para nuestro caso de uso haremos una heur√≠stica simple.</p>
<p>Para dar un score a nuestra recomendaci√≥n debemos plantear: <em>que consideramos bueno en una recomendaci√≥n</em>.</p>
<p>Para nuestro ejemplo simple, podemos tomar que una recomendaci√≥n es <em>buena</em> si la energ√≠a (<em>energy</em>) de la
recomendaci√≥n son parecidas al promedio de las canciones que el usuario seleccion√≥ como "que le gustan".
Dado que usualmente las personas tieneden a buscar un cierto tipo de m√∫sica en particular, este ser√≠a un buen
primer approach. Notese que esta <em>heur√≠stica</em> puede tornarse tan complicada como queramos.</p>
<p>Finalemente deberiamos tener una especi de funci√≥n que tenga al siguiente firma:</p>
<div class="highlight"><pre><span></span><code>def is_good_recom(song, parametros extra que deseemos) -&gt; bool:
    ...
</code></pre></div>
<p>En este caso <code>song</code> ser√° el vector que represente la canci√≥n que recomienda el modelo y simplemente devolver√°
el valor <code>True</code> si cumple con nuestro criterio de "recomendaci√≥n buena" y <code>False</code> caso contrario.</p>
<p>Finalmente el score de la recomendaci√≥n completa (las 5 canciones) ser√° simplemnte la cantidad de aciertos (<code>True</code>)
sobre la cantidad de canciones recomendadas (5/5 es la m√°xima  y 0/5 es la m√≠nima).</p>
<h3 id="iteracion-2">Iteraci√≥n 2:</h3>
<p>En esta etapa nos centraremos en permitirle al usuario seleccionar canciones, es decir que queremos eliminar la partde
<em>hard coded</em> y dejarle al usuario ingresar el nombre de la canci√≥n que desea.</p>
<p>Al finalizar esta etapa tendremos:</p>
<ol>
<li>El usuario ingres el nombre exacto de una canci√≥n dentro de nuestra lista de canciones.</li>
<li>El usuario repite el paso previo 5 veces</li>
<li>El programa retorna una lista de 5 recomendaciones.</li>
<li>obtenemos el score de nuestras recomendaciones.</li>
</ol>
<p>Nuevamente, utilziaremos el modelo de seleci√≥n al azar de canciones. Porque todav√≠a no nos aporta valor, si el usuario es incapaz
de interactuar con el sistema para ingresar que canciones le gusta... no importa que tan bueno sea nuestro modelo el usuario 
nunca lo podr√° usar. Es como construir un motor Formula 1 cuando todav√≠a no ten√©s ni un chasis donde montarlo.</p>
<p>Concentrarse en permitir seleccionar las canciones de la lista de canciones, puntos extra si podemos seleccionar sin importar 
si ingresamos may√∫sculas o no.</p>
<h3 id="iteracion-3">Iteraci√≥n 3:</h3>
<p>En esta iteraci√≥n ahora si veremos de implementar una versi√≥n b√°sica del algoritmo KNN para nuestro problema. Una versi√≥n de prueba
se encuentra disponible en el repositorio de tutorial, bajo la secci√≥n "proyectos/recomendador". </p>
<p>Al finalizar esta etapa tendremos:</p>
<ol>
<li>El usuario ingres el nombre exacto de una canci√≥n dentro de nuestra lista de canciones.</li>
<li>El usuario repite el paso previo 5 veces</li>
<li>El programa retorna una lista de 5 recomendaciones.</li>
<li>obtenemos el score de nuestras recomendaciones.</li>
</ol>
<p>En esta etapa debemos ver mejoras en nuestro score final, de no ser as√≠ modificar el K hasta lograr mejoras con respecto a valores 
previos.</p>
<h3 id="iteracion-4">Iteraci√≥n 4:</h3>
<p>A esta altura tenemos un programa funciona, ahora podemos focalizarnos en hacerlo m√°s f√°cil de utilizar con mejoras como:</p>
<ul>
<li>Permitir al usuario ingresar parte del nombre de la canci√≥n y mostrarle posbles nombres y dejarlo seleccionar el que quiera.</li>
<li>Mejorar nuestra impelmentaci√≥n de KNN utilizando un K m√°s alto o teniendo encuenta la "nota al final de la secci√≥n".</li>
<li>hacer m√°s eficiente el algoritmo de b√∫squed de KNN que tenemos implementado en al versi√≥n b√°sica. </li>
<li>Muchas m√°s.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>El KNN que vimos hasta ahora no tiene en cuenta la distancia entre el punto que estamos analizando y los "vecinos" que encontramos.
Si tomamos 5 vecinos para determinar cual es la clase de un punto pero de los 5, 3 estan muy lejos del punto y 2 est√° casi pegados
las chances son que la clase correcta sea la de los 2 puntos m√°s pr√≥ximos aunque en nuestra versi√≥n diremos que la clase sea la de 
los 3 puntos m√°s lejanos (asumiendo que los 3 puntos lejanos son de la misma clase y los 2 puntos cercanos son de otra clase distinta).</p>
</div>
<p><strong>Happy Coding!</strong>
<img alt="stay hungry, stay foolish" src="../../imgs/stay_hungry_stay_foolish.jpeg" /></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../../oop/disect_objects/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Ejemplo de un objeto" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Ejemplo de un objeto
            </div>
          </div>
        </a>
      
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.8492ddcf.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="../../javascripts/fontawesome/all.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>